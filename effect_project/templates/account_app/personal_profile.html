{% extends 'account_app/account_app_base.html' %}

{% load staticfiles %}

{% block title %}Profile page{% endblock %}

{% block dependencies %}
<link rel="stylesheet" type="text/css" href="{% static "css/css-code/account_app/personal_profile.css" %}">
<script src="{% static 'js/js-code/account_app/controllers/personal_profile.js' %}"></script>
{% endblock %}

{% block body_content_block %}
<div ng-controller="PersonalProfileController">
  <div class="max-width-980 row" name="updatePersonalProfile">
    {% csrf_token %}
    <div class="col-md-6 text-center">
      <div ng-hide="edit_avatar_flag">
        {% if  avatar_path %}
        <div class="avatar-img" ng-click="editAvatar()"><i class="fa fa-user" aria-hidden="true"></i></div>
        {% else %}
        <img  ng-click="editAvatar()" class="avatar-img" src={{ avatar_path }}>
        {% endif %}
        <div class="overlay">
          <i class="fa fa-pencil fa-fw" aria-hidden="true"></i>
        </div>
      </div>
      <form id="avatarForm" ng-show="edit_avatar_flag" action="/account/update_avatar_GType" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <i class="fa fa-user" aria-hidden="true"></i>
        <input type="file" name="avatar">
        <button type="submit">&#10004;</button>
        <button ng-click="editAvatar()">&#10006;</button>
      </form>
    </div>
    <div class="col-md-6">
      <div ng-hide="edit_main_flag">
        <div ng-show="django_data_flag">
          <div class="profile-name">{{ current_user_detail.last_name }} {{ current_user_detail.first_name }}</div>
          <div class="current-title">{{ current_user_detail.status }}</div>
          <div class="current-description">{{ current_user_detail.passion }}</div>
        </div>
        <div ng-hide="django_data_flag">
          <div class="profile-name">$profile.last_name$ $profile.first_name$</div>
          <div class="current-title">$profile.status$</div>
          <div class="current-description">$profile.passion$</div>
        </div>
      </div>
      <div ng-show="edit_main_flag">
        <div class="col-md-6 form-group"><input type="text" class="form-control" value="{{ current_user_detail.last_name }}" placeholder="Last Name" ng-model="profile.last_name" name="last_name" ng-initial></div>
        <div class="col-md-6 form-group"><input type="text" class="form-control" value="{{ current_user_detail.first_name }}" placeholder="First Name" ng-model="profile.first_name" name="first_name" ng-initial></div>
        <div class="col-md-12 form-group"><input type="text" class="form-control" value="{{ current_user_detail.status }}" placeholder="Status" ng-model="profile.status" name="status" ng-initial></div>
        <div class="col-md-12 form-group"><input type="text" class="form-control" value="{{ current_user_detail.passion }}" placeholder="Passion" ng-model="profile.passion" name="passion" ng-initial></div>
      </div>
      {% if not current_user_detail.alumn %}
      <div class="alumnus"><img src="{% static 'images/logos/SA_Stamp_100x100-01.png' %}"> Success Academy Alumnus</div>
      {% endif %}
    </div>
    <button type="button" ng-click="editForm()"><span ng-hide="edit_main_flag">Edit</span><span ng-show="edit_main_flag">Cancel</span></button>
    <button ng-show="edit_main_flag" ng-click="updateProfile()">Submit</button>
  </div>
  <div class="bkgd-white">
    <div class="max-width-980 row skills-bar">
      <div class="col-md-4 custom-col border-r text-center">
        <div class="title">Εξειδικεύομαι σε</div>
        <div>&#10004; Social Media</div>
        <div>&#10004; Programming</div>
        <div>&#10004; Marketing</div>
      </div>
      <div class="col-md-4 custom-col border-r">
        <div class="title">Top 3 δεξιότητες</div>
        <div class="side-side-box">Creative</div>
        <div class="side-side-box">Solution Oriented</div>
      </div>
      <div class="col-md-4 custom-col">
        <div class="title">Ψάχνω για</div>
        <div class="side-side-el">&#10004; Internship</div>
        <div class="side-side-el">&#10004; Full time</div>
      </div>
    </div>
    <div class="max-width-980 row">
      <div class="col-md-4 grey-box">sdf</div>
    </div>
  </div>
</div>
{% endblock %}
